{{ $input_label := .Get "label" | htmlEscape }} 
{{ $input_name := $input_label | lower | replaceRE "[^0-9a-z]" "_" | replaceRE "-+" "_" }}
{{ $input_required := .Get "required" | default false }}
{{ $input_wide := .Get "wide" | default false }}

<div id="upload-container">

<div class="input-row {{ if $input_wide }}wide{{ end }} uploader-element">
  
  <label class=" uploader-element" for="{{ $input_name }}">
    <div>
      {{ $input_label }}{{ if $input_required }} <span class="required_marker">(required)</span>{{ end }}
    </div>
  </label>
  <div class="input-field-wrapper">
    <input type="file" id="file" name="file" style="cursor: pointer;" class="input {{ if $input_required }}required{{ end }} uploader-element" form="upload_form">
  </div>
  <input type="hidden" name="attachment" id="attachment" class="input {{ if $input_required }}required{{ end }}">
  
<button id="upload-submit" type="submit" class="btn-submit-form btn-submit-upload uploader-element" value=""  form="upload_form">
  <div style="width: 26px; height: 26px; margin-right: 3px">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
      <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
    </svg>
  </div>
  <span>
    upload
  </span>
</button>

</div>

<div id="msg-detail" class="upload-msg"></div>

</div>
